



RAW                                                      P. Thubert, Ed.
Internet-Draft                                             Cisco Systems
Intended status: Informational                              June 4, 2019
Expires: December 6, 2019


              Reliable and Available Wireless Technologies
                   draft-thubert-raw-technologies-00

Abstract

   This document presents a series of recent technologies that are
   capable of time synchronization and scheduling of transmission,
   making them suitable to carry time-sensitive flows with requirements
   of both reliable delivery in bounded time, and availability at all
   times, regardless of packet transmission or individual equipement
   failures.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 6, 2019.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Thubert                 Expires December 6, 2019                [Page 1]

Internet-Draft                  RAW Techs                      June 2019


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  On Scheduling . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Benefits of Scheduling on Wires . . . . . . . . . . . . .   4
     3.2.  Benefits of Scheduling on Wireless  . . . . . . . . . . .   4
   4.  TimeSlotted Channel Hopping . . . . . . . . . . . . . . . . .   5
     4.1.  Provenance and Documents  . . . . . . . . . . . . . . . .   5
     4.2.  General Characteristics . . . . . . . . . . . . . . . . .   6
     4.3.  Applicability to Deterministic Flows  . . . . . . . . . .   8
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   8
   7.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   8
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   8
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   8
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   9
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   When used in math or philosophy, the term "deterministic" generally
   refers to a perfection where all aspect are understood and
   predictable.  A perfectly Deterministic Network would ensure that
   every packet reach its destination following a predetermined path
   along a predefined schedule to be delivered at the exact due time.
   In a real and imperfect world, a Deterministic Network must highly
   predictable, which is a combination of reliability and availability.
   On the one hand the network must be reliable, meaning that it will
   perform as expected for all packets and in particular that it will
   always deliver the packet at the destination in due time.  On the
   other hand, the network must be available, meaning that it is
   resilient to any single outage, whether the cause is a software, a
   hardware or a transmission issue.

   RAW (Reliable and Available Wireless) is an effort to provide
   Deterministic Networking on across a path that include a a wireless
   physical layer.  Making Wireless Reliable and Available is even more
   challenging than it is with wires, due to the numerous causes of loss
   in transmission that add up to the congestion losses and the delays
   caused by overbooked shared resources.  In order to maintain a
   similar quality of service along a multihop path that is composed of
   wired and wireless hops, additional methods that are specific to
   wireless must be leveraged to combat the sources of loss that are
   also specific to wireless.



Thubert                 Expires December 6, 2019                [Page 2]

Internet-Draft                  RAW Techs                      June 2019


   Such wireless-specific methods include per-hop retransmissions (HARQ)
   and P2MP overhearing whereby multiple receivers are scheduled to
   receive the same transmission, which balances the adverse effects of
   the transmission losses that are eperienced when a radio is used as
   pure P2P.

2.  Terminology

   This specification uses a number of terms that are uncommon on
   protocols that ensure bets effort transmissions for stochastics
   flows, such as found in the traditional Internet and other
   statistically multiplexed packet networks.

   Reliable:  That consistently performs as expected, the expectation
         for a network being to always deliver a packet in due time.

   Available:  That is exempt of unscheduled outage, the expectation for
         a network being that the flow is maintained in the face of any
         single breakage.

   PAREO (functions):  the wireless extension of DetNet PREOF.  PAREO
         functions include scheduled ARQ at selected hops, and expect
         the use of new operations like overhearing where available.

   Track:  A DODAG oriented to a destination,and that enables Packet
         ARQ, Replication, Elimination, and Ordering Functions.

   ARQ:  Automatic Repeat Request, enabling an acknowledged
         transmission, which is the typical model at Layer-2 on a
         wireless medium.

   HARQ: Forward error correction, sending redundant coded data to help
         the receiver recover transmission errors.

   HARQ: Hybrid ARQ, a combination of FEC and ARQ .

3.  On Scheduling

   The operations of a Deterministic Network often rely on precisely
   applying a tight schedule, in order to avoid collision loss and
   guarantee the worst case time of delivery . To achieve this, there
   must be a shared sense of time throughout the network.  The sense of
   time is usually provided by the lower layer and is not in scope for
   RAW.







Thubert                 Expires December 6, 2019                [Page 3]

Internet-Draft                  RAW Techs                      June 2019


3.1.  Benefits of Scheduling on Wires

   A network is reliable when the statistical effects that affect the
   packet transmission are eliminated.  This involves maintaining at all
   time the amount of critical packets within the physical capabilities
   of the hardware and that of the radio medium.  This is achieved by
   controlling the use of time-shared resources such as CPUs and
   buffers, by shaping the flows and by scheduling the time of
   transmission of the packets that compose the flow at every hop.

   Equipment failure, such as an access point rebooting, a broken radio
   adapter, or a permanent obstacle to the transmission, is a secondary
   source of packet loss.  When a breakage occurs, multiple packets are
   lost in a row before the flows are rerouted or the system may
   recover.  This is not acceptable for critical applications such as
   related to safety.  A typical process control loop will tolerate an
   occasional packet loss, but a loss of several packets in a row will
   cause an emergency stop (e.g., after 4 packets lost, within a period
   of 1 second).

   Network Availability is obtained by making the transmission resilient
   against hardware failures and radio transmission losses due to
   uncontrolled events such as co-channel interferers, multipath fading
   or moving obstacles.  The best results are typically achieved by
   pseudo randomly cumulating all forms of diversity, in the spatial
   domain with replication and elimination, in the time domain with ARQ
   and diverse scheduled transmissions, and in the frequency domain with
   frequency hopping or channel hopping between frames.

3.2.  Benefits of Scheduling on Wireless

   In addition to the benefits listed in Section 3.1, scheduling
   transmissions provides specific value to the wireless medium.

   On the one hand, scheduling avoids collisions between scheduled
   transmissions and can ensure both time and frequency diversity
   between retries in order to defeat co-channel interference from
   uncontroller transmitters as well as multipath fading.  Transmissions
   can be scheduled on multiple channels in parallel, which enables to
   use the full available spectrum while avoiding the hidden terminal
   problem, e.g., when the next packet in a same flow interferes on a
   same channel with the previous one that progressed a few hops
   farther.

   On the other hand, scheduling optimizes the bandwidth usage: compared
   to classical Collision Avoidance techniques, there is no blank time
   related to inter-frame space (IFS) and exponential back-off in
   scheduled operations.  A minimal Clear Channel Assessment may be



Thubert                 Expires December 6, 2019                [Page 4]

Internet-Draft                  RAW Techs                      June 2019


   needed to comply with the local regulations such as ETSI 300-328, but
   that will not detect a collision when the senders are synchronized.
   And because scheduling allows a time sharing operation, there is no
   limit to the ratio of isolated critical traffic.

   Finally, scheduling plays a critical role to save energy.  In IOT,
   energy is the foremost concern, and synchronizing sender and listener
   enables to maintain them in deep sleep at all times when there is no
   scheduled transmission.  This avoids idle listening and long
   preambles and enables long sleep periods between traffic and
   resynchronization, allowing battery-operated nodes to operate in a
   mesh topology for multiple years.

4.  TimeSlotted Channel Hopping

   TODO

4.1.  Provenance and Documents

   The IEEE is an open standardizatoin body participated by technical
   professional organizations and individuals with amongst other goals
   the creation of open standard specifications.  The IEEE
   standardization activities embrace broad technological areas with the
   objective to advance technology of the technology for the benefit of
   humanity.

   The IEEE802.15.4 Task Group has been driving the development of low-
   power low-cost radio technology.  The Timeslotted Channel Hopping
   mode, added to the 2015 revision of the IEEE802.15.4 standard
   [IEEE802154], is targeted at the embedded and industrial world, where
   reliability, energy consumption and cost drive the application space.
   The IEEE802.15.4 physical layer has been designed to support
   demanding low-power scenarios targeting the use of unlicensed bands,
   both the 2.4 GHz and sub GHz Industrial, Scientific and Medical (ISM)
   bands.  This has imposed requirements in terms of frame size, data
   rate and bandwidth to achieve reduced collision probability, reduced
   packet error rate, and acceptable range with limited transmission
   power.  The PHY layer supports frames of up to 127 bytes.  The Medium
   Access Control (MAC) sublayer overhead is in the order of 10-20
   bytes, leaving about 100 bytes to the upper layers.  IEEE802.15.4
   uses spread spectrum modulation such as the Direct Sequence Spread
   Spectrum (DSSS).

   IPv6 over TSCH is enabled by the work done at the 6TiSCH WG. 6TiSCH
   has enabled best effort distributed scheduling to exploit the
   deterministic access capabilities provided by TSCH.  The group
   designed the essential mechanisms to enable the management plane
   operation while ensuring IPv6 is supported.  Yet the charter did not



Thubert                 Expires December 6, 2019                [Page 5]

Internet-Draft                  RAW Techs                      June 2019


   focus to providing a solution to establish end to end tracks while
   meeting quality of service requirements. 6TiSCH, through the RFC8480
   [RFC8480] defines the 6P protocol which provides a pairwise
   negotiation mechanism to the control plane operation.  The protocol
   supports agreement on a schedule between neighbors, enabling
   distributed scheduling.  6P goes hand-in-hand with a Scheduling
   Function (SF), the policy that decides how to maintain cells and
   trigger 6P transactions.  The Minimal Scheduling Function (MSF)
   [I-D.ietf-6tisch-msf] is the default SF defined by the 6TiSCH WG;
   other standardized SFs can be defined in the future.  MSF extends the
   minimal schedule configuration, and is used to add child-parent links
   according to the traffic load.

   Time sensitive networking on low power constrained wireless networks
   have been addressed by ISA100.11a and WirelessHART.  TODO

   The 6TiSCH architecture [I-D.ietf-6tisch-architecture] already
   identified diferent models to schedule resources along tracks
   exploiting the TSCH schedule structure however these models have not
   been standardized.  A Track, in the 6TiSCH architecture is considered
   a directed path from a source 6TiSCH node to one or more
   destination(s) 6TiSCH node(s) through the 6TiSCH network.  A Track in
   6TiSCH is the implementation of the deterministic path in the Detnet
   architecture [I-D.ietf-detnet-architecture] .  Along a Track, 6TiSCH
   nodes reserve the resources to enable the eficient transmission of
   packets while aiming to optimize certain properties such as
   reliability, ensure small jitter or bounded latency.  The track
   structure enables Layer-2 forwarding schemes, reducing the overhead
   of taking routing decisions at the Layer-3.  Serial Tracks can be
   understood as the concatenation of cells or bundles along a routing
   path from a node towards a destination.  The serial track concept is
   analogous to the circuit concept where resources are chained through
   the multi-hop topology.  For example A bundle of Tx Cells in a
   particular node is paired to a bundle of Rx Cells in the next hop
   node following a routing path.  More complex approaches are described
   in and complemented by extensions to the RPL routing protocol in
   [I-D.ietf-roll-nsa-extension].  Reliability measures are for example
   achieved by exploiting concepts such as Replication and Elimination.
   In them, packets at origin are replicated and transmitted along
   disjoint tracks.  This redundancy measure exploiting track forwarding
   increases energy consumption of the network nodes but improves
   significantly the reliability of the network.

4.2.  General Characteristics

   As a core technique in IEEE802.15.4, TSCH splits time in multiple
   time slots that repeat over time.  The structure is referred as a




Thubert                 Expires December 6, 2019                [Page 6]

Internet-Draft                  RAW Techs                      June 2019


   Slotframe.  For each timeslot, a set of available frequencies can be
   used, resulting in a matrix-like schedule (see Fig. Figure 1).

                          timeslot offset
        | 0    1    2    3    4  | 0    1    2    3    4  |    Nodes
        +------------------------+------------------------+   +-----+
        |    |    |    |    |    |    |    |    |    |    |   |  C  |
   CH-1 | EB |    |    |C->B|    | EB |    |    |C->B|    |   |     |
        |    |    |    |    |    |    |    |    |    |    |   +-----+
        +-------------------------------------------------+      |
        |    |    |    |    |    |    |    |    |    |    |      |
   CH-2 |    |    |B->C|    |B->A|    |    |B->C|    |B->A|   +-----+
        |    |    |    |    |    |    |    |    |    |    |   |  B  |
        +-------------------------------------------------+   |     |
    ...                                                       +-----+
                                                                 |
        +-------------------------------------------------+      |
        |    |    |    |    |    |    |    |    |    |    |   +-----+
   CH-15|    |A->B|    |    |    |    |A->B|    |    |    |   |  A  |
        |    |    |    |    |    |    |    |    |    |    |   |     |
        +-------------------------------------------------+   +-----+
   ch.
   offset

    Figure 1: Slotframe example with scheduled cells between nodes A, B
                                   and C

   This schedule represents the possible communications of a node with
   its neighbors, and is managed by a Scheduling Function such as The
   Minimal Scheduling Function (MSF) [I-D.ietf-6tisch-msf].  Each cell
   in the schedule is identified by its slotoffset and channeloffset
   coordinates.  A cell's timeslot offset indicates its position in
   time, relative to the beginning of the slotframe.  A cell's channel
   offset is an index which maps to a frequency at each iteration of the
   slotframe.  Each packet exchanged between neighbors happens within
   one cell.  An Absolute Slot Number (ASN) indicates the number of
   slots elapsed since the network started.  It increments at every
   slot.  This is a 5 byte counter that can support networks running for
   more than 300 years without wrapping (assuming a 10 ms timeslot).
   Channel hopping provides increased reliability to multi-path fading
   and external interference.  It is handled by TSCH through a channel
   hopping sequence referred as macHopSeq in the IEEE802.15.4
   specification.

   TODO - bandwidth, beam forming - expected capabilities for safety and
   automation, e.g., loops per second - caveats, e.g., latency in the
   backhaul or interference - programming capabilities, is there a model
   for a flow, etc.



Thubert                 Expires December 6, 2019                [Page 7]

Internet-Draft                  RAW Techs                      June 2019


4.3.  Applicability to Deterministic Flows

   -time synchronization - scheduling capabilities, discuss such things
   as Resource Units, time slots or resource blocks.  Can we reserve
   periodic resources vs. ask each time, what precision can we get in
   latency control.  - diversity scenarios, what's available, - gap
   analysis, e.g. discuss multihop, or what's missing how to do PAREO
   features.

5.  IANA Considerations

   This specification does not require IANA action.

6.  Security Considerations

   Most RAW technologies integrate some authentication or encryption
   mechanisms that were defined outside the IETF.

7.  Acknowledgments

   Many thanks to the participants of the RAW WG where a lot of the work
   discussed here happened.

8.  References

8.1.  Normative References

   [I-D.ietf-6tisch-architecture]
              Thubert, P., "An Architecture for IPv6 over the TSCH mode
              of IEEE 802.15.4", draft-ietf-6tisch-architecture-20 (work
              in progress), March 2019.

   [I-D.ietf-6tisch-msf]
              Chang, T., Vucinic, M., Vilajosana, X., Duquennoy, S., and
              D. Dujovne, "6TiSCH Minimal Scheduling Function (MSF)",
              draft-ietf-6tisch-msf-03 (work in progress), April 2019.

   [I-D.ietf-detnet-architecture]
              Finn, N., Thubert, P., Varga, B., and J. Farkas,
              "Deterministic Networking Architecture", draft-ietf-
              detnet-architecture-13 (work in progress), May 2019.

   [I-D.ietf-roll-nsa-extension]
              Koutsiamanis, R., Papadopoulos, G., Montavont, N., and P.
              Thubert, "RPL DAG Metric Container Node State and
              Attribute object type extension", draft-ietf-roll-nsa-
              extension-01 (work in progress), March 2019.




Thubert                 Expires December 6, 2019                [Page 8]

Internet-Draft                  RAW Techs                      June 2019


   [RFC8200]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", STD 86, RFC 8200,
              DOI 10.17487/RFC8200, July 2017,
              <https://www.rfc-editor.org/info/rfc8200>.

   [RFC8480]  Wang, Q., Ed., Vilajosana, X., and T. Watteyne, "6TiSCH
              Operation Sublayer (6top) Protocol (6P)", RFC 8480,
              DOI 10.17487/RFC8480, November 2018,
              <https://www.rfc-editor.org/info/rfc8480>.

8.2.  Informative References

   [IEEE80211]
              "IEEE Standard 802.11 - IEEE Standard for Information
              Technology - Telecommunications and information exchange
              between systems Local and metropolitan area networks -
              Specific requirements - Part 11: Wireless LAN Medium
              Access Control (MAC) and Physical Layer (PHY)
              Specifications.".

   [IEEE802154]
              IEEE standard for Information Technology, "IEEE Std.
              802.15.4, Part. 15.4: Wireless Medium Access Control (MAC)
              and Physical Layer (PHY) Specifications for Low-Rate
              Wireless Personal Area Networks".

Author's Address

   Pascal Thubert (editor)
   Cisco Systems, Inc
   Building D
   45 Allee des Ormes - BP1200
   MOUGINS - Sophia Antipolis  06254
   FRANCE

   Phone: +33 497 23 26 34
   Email: pthubert@cisco.com














Thubert                 Expires December 6, 2019                [Page 9]
